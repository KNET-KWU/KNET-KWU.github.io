---
layout: post
title: 지금까지 있었던 일 정리(~04/08)
hide_title: false # 글 읽을 때 제목 보일지 말지 설정
feature-img: "assets/img/posts/2022-04-08/hello.jpg"
thumbnail: "assets/img/posts/2022-04-08/hello.jpg"
color: rgb(12, 67, 109) # 제목 주변에 색깔 설정, 맘대루, rgb로 색 선택하는 경우 --> rgb(123, 123, 13)
bootstrap: true # Add bootstrap to the page
tags: [2022, 동아리 방, 서버, 정리] # 태그는 작성하면 알아서 분류됨
author: ccppoo
---

# 지금까지 있었던 일 정리하기 (4월 편)

-   동아리 서버 램 구입

-   의자 새로 받음 ㅎㅎ

-   동아리 서버 관리자 모집 끝남(4/5 화요일 ~ 4/8 금요일)

-   앞으로 일정

<br>

## 동아리 서버 램 구입 + 서버 관련해서 사용 목적 안내

드디어 계획했던 서버용 메모리를 증설했습니다.

{% include aligner.html images="/posts/2022-04-08/20220408_120054511_01.jpg,/posts/2022-04-08/20220408_120054511.jpg" column=2 row=1 caption="" %}

기존에 있었던 40GB(8+8+4+4+4+4+4+4)에서 88GB(16+16+16+16+8+8+4+4)로 구성이 바뀐 것인데요

Dell r510 모델이 3채널, 즉 같은 용량의 램을 하나의 CPU 소켓당 3개씩 꽂아야 최고의 효율로 사용할 수 있는 메인보드지만

거래금액 압박이... 조금 그래서 참고 4개로 만족했습니다.

메모리 슬롯이 많다고 마냥 다 꽂을 수 없는데요

{% include aligner.html images="/posts/2022-04-08/20220406_173721.jpg" column=2 row=1 caption="" %}

메인보드가 2개의 CPU를 하나의 CPU처럼 사용하기 위해서는 같은 메모리 구성을 해야합니다.

그래서 하나의 소켓에 16GB을 3개, 다른 하나의 소켓에 4GB 3개 씩 구성해서 3채널을 구성하면

"3채널도 구성하고 용량은 그대로 사용할 수 있으니 좋네!" 라고 생각할 수 있지만...

### 첫 번째 시도

{% include aligner.html images="/posts/2022-04-08/20220406_173829.jpg,/posts/2022-04-08/mem_config_1.jpg" column=2 row=1 caption="" %}

이전에 서버를 처음 들였을 때 4GB 램 6개가 있어, 8GB 램 2개를 추가로 구매해(\*r510 편 참고) 40GB를 맞췄을 때의

삽질을 하면서 r510 모델의 하드웨어에 대한 스펙 시트를 좀 봤는데...

이 제품의 경우 메모리를 3 채널로 구성할 수 있어 같은 용량의 램 3개와 깍두기 램 1개로 구성할 수 있습니다.

그래서 처음으로 일단, 4GB 램이 6개 있으니 사진처럼 3개씩 묶어 구성할려고 했으나

그림처럼 메모리는 각 CPU마다 동일한 용량을 가지고 있어야 했기 때문에 원하는 3채널 메모리 구성을 못했습니다.

{% include image.html src="/assets/img/posts/2022-04-08/듀얼채널.png" width="500px" %}

여러분이 데스크탑 컴퓨터를 사면 메모리는 듀얼 채널

메모리 슬롯이 4개 이상 있으면 연달아 꽂지 않고 한 칸씩 띄워서 꽂으라는 말 들어본 적 있죠?

같은 원리로 이 서버도 3 채널로 구성을 해야 빠르긴한데... (나중에 여유 없으면 2개 더 사면 됩니다)

그래서 제가 처음 이 서버를 구매했을 때 4GB 램이 6개 있는 것이 4+4+4(12GB) \* 2 = 24GB 트리플 채널로 구성되었던 것입니다.

### 두 번째 시도

{% include aligner.html images="/posts/2022-04-08/20220406_174429.jpg,/posts/2022-04-08/mem_config_2.jpg" column=2 row=1 caption="" %}

혹시나 저 깍두기로 취급하는 메모리 슬롯에 8GB 하나를 꽂고 16GB 램을 2개 꽂으면 듀얼채널로 인식하지 않을까?

라는 생각으로 시도해봤지만

일단 트리플 채널로 구성된 메모리 슬롯이나 마저 다 꽂고나서 쓰라고 말하네요.

### 타협

{% include aligner.html images="/posts/2022-04-08/20220406_175441.jpg,/posts/2022-04-08/20220406_175558.jpg" column=2 row=1 caption="" %}

(16 + 16 + 8 + 4) \* 2 = 88GB 싱글채널로 구성했습니다.

너무 느리다 싶으면 나중에 2개 더 사면 되죠.

서버용 램은 일반 데스크탑 CPU로 사용할 수 없어서<del>오래된거라</del> 상대적으로 싸기 때문에

마음만 먹으면 언제든지 구입은 가능합니다.

{% include image.html src="/assets/img/posts/2022-04-08/20220406_180333.jpg" width="700px" %}

하이퍼바이저로 사용하게 될 Proxmox 관리 콘솔에서도 잘 인식하는 것을 볼 수 있네요

88GB가 아닌 90GB로 보이는 이유는 (이하 뇌피셜임)

메모리를 제조하는 회사의 입장에서는 **1KB == 1000 Byte**로 계산하는 반면<br>
(이게 산술적으로 맞긴함 킬로 == 1,000)

소프트웨어에서 1KB는 2의 배수 중 제일 가까운 **1024 Byte**로 인식하기 때문이죠<br>
(그래서 KiB가 S/W에서 말하는 KB 단위와 맞음).

Proxmox 시스템에서 보는 메모리는 커널에서 준 88GB이라는 정보를 다시 1024 Byte(1KiB)로 환산해서

**88 \* (1024/1000) = 90.112(GB)**라는 식이 나오기 때문에 저렇게 보이는게 아닐까 싶네요...

{% include image.html src="/assets/img/posts/2022-04-08/wtf_mem.png" %}

근데 막상 관리창으로 보면 메모리를 GiB 단위로 적어놔서 86.50 GiB로 나옵니다.

{% include image.html src="/assets/img/posts/2022-04-08/your_mem.png" width="500px" caption="이것이 당신의 메모리입니다<br> <i>뭐야 ㅅ발 돌려줘요</i>" %}

## 기타 구구절절 말하지 못한 서버 이야기

어차피 메모리를 다시 꽂아야 하면 전원을 꺼야해서,

주문한 메모리가 올 때까지 그냥 전원을 꺼뒀습니다.

근데...

{% include aligner.html images="/posts/2022-04-08/20220406_195957.jpg,/posts/2022-04-08/20220406_184927.jpg" column=2 row=1 caption="" %}

zfs가 자꾸 지가 찾던 캐시를 못 찾겠다고 Web GUI조차 못들어가는 상황에 놓였고...

pfSense(방화벽) VM을 설치한 것외에는 잃은게 딱히 많지 않아서 그냥 Proxmox를 **다시 설치했습니다**.

{% include image.html src="/assets/img/posts/2022-04-08/teacho_vilage.png" width="500px" caption="태초마을이야!" %}

...

{% include aligner.html images="/posts/2022-04-08/pfsense1.jpg,/posts/2022-04-08/pfsense2.png,/posts/2022-04-08/pfsense3.png" column=3 row=1 caption="머리 속을 스쳐가는 그동안의 삽질들..." %}

그리고 제가 가져온 데스크탑(서버)도 메모리 32GB로 증설했습니다

{% include aligner.html images="/posts/2022-04-08/20220407_121131.jpg,/posts/2022-04-08/20220407_121341.jpg" column=2 row=1 caption="내돈내산" %}

{% include image.html src="/assets/img/posts/2022-04-08/20220407_121653.jpg" width="" caption="예아 굿" %}

### 합체(클러스터)

그래서 합체를 하면...!

{% include image.html src="/assets/img/posts/2022-04-08/합체.png" width="" caption="퓨ㅜㅜㅜ전" %}

{% include image.html src="/assets/img/posts/2022-04-08/cluster.png" width="" caption="짜잔" %}

<br>

## 의자 새로 받음 ㅎㅎ

직접 학생복지처로 달려가 오래된 의자를 교체해달라고 부탁을 드렸는데요

최근에 학교에서 새로운 의자를 마구마구 사는 것 같아

**혹시나 남는게 없을까...** 하고 기대했지만

그래도 쓸 만한 의자를 받을 수 있었습니다.

{% include image.html src="/assets/img/posts/2022-04-08/20220407_160110.jpg" width="" caption="before" %}

{% include image.html src="/assets/img/posts/2022-04-08/20220407_160114.jpg" width="" caption="after" %}

<br>

## 동아리 서버 관리자 모집한 건에 대하여

동아리 카톡방에 안내를 했듯이

4월 5일부터 4월 8일까지 동아리 서버 관리자 모집 공고를 냈습니다.

<br>

## 앞으로 일정

1 . **중간고사가 끝나기 전에 라이브에서 말씀드렸던 멘토-멘티의 개인 프로젝트 모집 공고와 신청**

2 . **서버 관리자와 함께 서버 리소스를 활용하고 원격으로 사용하기 위한 신청 방법**

3 . **1학기 마지막에 있을 K-NET 컨퍼런스(오프라인)에 대한 계획에 전체적인 그림**

위 세가지에 대한 일정을 안내드리겠습니다.

중간고사 시즌이라 정신이 없는데 속도보다는 차근차근 진행하도록 노오력하겠습니다.

<br>

## 덧,

1년 단위로 계획을 세우고 있어서 많이 하는게 없어 보이실 수도 있습니다.

제가 회장으로 취임이후 늘 말씀드렸지만, 2년의 코시국이 끝나고 거의 새롭게 시작하는 것과 다름없는 상황이기에

너무 성급하지도, 느리지도 않게 계획하에 진행하려고 합니다.

그리고 또 동아리 활동에 앞서 학업이 중요하기 때문에

동아리 활동으로 인해서 학업에 지장이 되지 않도록 가늘고 길게 가는 쪽을 택했습니다

(한 학기 등록금 400만원 >>>>(넘사벽)>>>> 한 학기 동아리 회비 1.5만원)

블로그를 통해서 지속적으로 모르셨을 소식과 현황에 대해서 알려드리겠습니다.

안녕
