---
layout: post
title: dell r510 그리고 서버 - 1편
hide_title: false # 글 읽을 때 제목 보일지 말지 설정
feature-img: "assets/img/posts/2022-02-24/dell-r510.png"
thumbnail: "assets/img/posts/2022-02-24/dell-r510.png"
color: rgb(12, 67, 109) # 제목 주변에 색깔 설정, 맘대루, rgb로 색 선택하는 경우 --> rgb(123, 123, 13)
bootstrap: true # Add bootstrap to the page
tags: [2022, 활동실직서, 동아리 방, 서버] # 태그는 작성하면 알아서 분류됨
author: ccppoo
---

매몰일지 아닐지 분간이 안되는

이 서버를 드디어 서버 노릇을 할 수 있게 되었습니다.

뭐가 고장 난 것도 아니고, 제가 모르는 것도 아니고 단순히 HDD가 문제였는지

UEFI 부팅까지 잘 진입을 하고 플래시 드라이브로 부팅을 시도하기만 하면 멈추기만 했습니다.

그래서 집 근처에 아이맥에서 적출한 1TB HDD를 대량으로 판매한다길래

학교 가는 길에 두 개 구매하고 갔습니다.

(서버 세팅하고 우분투까지 설치한 내용은 뒤에)

## 주문하신 선반 왔습니다~

{% include image.html src="/assets/img/posts/2022-02-24/20220223_120939.jpg" width="" caption="" %}

2022년 2월 18일에 쿠팡에서 주문한 서랍장이 도착했습니다.

{% include image.html src="/assets/img/posts/2022-02-24/IMG_2045.jpg" width="" caption="" %}

원래 있던 합판 서랍장을 그대로 사용하기에는 너무 난잡하고 낮기 때문에 새로 구입했습니다.

그대로 사용할까 고민했지만, 워낙에 조잡하고 또 고정을 하자니 끝도 없을 것 같아서 구입을 결정했습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_143510.jpg,/posts/2022-02-24/20220223_143512.jpg" column=2 row=1 caption="" %}

안에는 생각보다 엄청나게 무거운 빔과 합판이 있어서 당황.

(택배 기사님 죄송합니다...)

그렇게 물건을 풀어놓고 하나씩 조립했습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_143900.jpg,/posts/2022-02-24/20220223_144522.jpg,/posts/2022-02-24/20220223_145149.jpg,/posts/2022-02-24/20220223_145253.jpg" column=4 row=1 caption="" %}

일단 기둥이 되는 부분을 조립하고 난 뒤에

{% include image.html src="/assets/img/posts/2022-02-24/20220223_153744.jpg" width="" caption="" %}

층이 되는 합판을 올려 놓고 일단 기본적인 틀은 완성했습니다.

{% include image.html src="/assets/img/posts/2022-02-24/20220223_144810.jpg" width="" caption="" %}

90cm + 75cm 구조라 중간 중간 결합 부분을 망치로 두드려 조립하는 방식이라

꽤나 소음이 발생했습니다(땅 땅 땅 땅).

{% include image.html src="/assets/img/posts/2022-02-24/20220223_174021.jpg" width="" caption="" %}

일단 높이 조절이 필요해 보이지 않는 옥상 부분이랑 바닥 부분은 흔들리지 않도록

망치로 열심히 고정했는데 합판이 휘어 한쪽이 들렸습니다(불편).

{% include image.html src="/assets/img/posts/2022-02-24/20220223_194614.jpg" width="" caption="" %}

그렇게 완성된 선반은 일단은 뭐라도 올려서 쓰임새를 만들어 봤습니다.

60cm x 40cm이라서 꽤 넓을 줄 알았더니 생각보다 작더라고요.

뭐, 그래도 깔끔하게 물건을 정리할 수 있는 공간이 생겼으니 만족스러웠습니다.

## r510 ㅋㅋ

네, 사서 고생한 Dell r510 서버입니다.

그동안 온갖 부팅을 시도해보고, 워낙 오래된 서버라 2011년 영상부터 찾아봤지만

결국 문제는 HDD, 하드디스크 였습니다.

USB에 cent os7 이미지로 UEFI 부팅을 시도했지만, 자꾸만 에러만 나오고 제가 잘못된 건줄 알았습니다.

{% include image.html src="/assets/img/posts/2022-02-24/dell-h700.png" width="한국 매물은 더럽게 비싸서 생략" caption="" %}

RAID를 관장하는 RAID 카드를 구매할까 고민했는데 오래된 제품이라도 가격이 좀 나가서

일단 다른 용도로 사용할 수 도 있는 HDD로 결정했던 겁니다.

{% include image.html src="/assets/img/posts/2022-02-24/20220223_121247.jpg" caption="오늘의 도우미" %}

오늘 장착할 녀석들은

---

쿠팡에서 구매한 os용 128gb SSD 2개 : **40,890 원** (20,390 + 20,500)

아이맥에서 적출한 중고 HDD(2016년 1월 산) 2개 : **36,000 원** (18,000 \* 2)

주문이 너무 느려서 현장에서 산 싼마이한 서멀 구리스 1개 : **5,000 원**

지난 글에서 업로드한 제온 x5675 2개 : **32,277 원** (16,138 \* 2)

---

총 합 : **114,167 원** (Tlqkf zz)

우선 준비한 하드를 장착하기 전에 이전에

같이 딸려서 팔린 하드를 가이드에서 제거했습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_121636.jpg,/posts/2022-02-24/20220223_121524.jpg,/posts/2022-02-24/20220223_121440.jpg" column=3 row=1 caption="" %}

저 하드만 해도 총합 11 TB 인데 저 중에서 제가 삽질하게 만든 임포스터가 존재합니다.

{% include aligner.html images="/posts/2022-02-24/20220223_184643.jpg" column=2 row=1 caption="베드섹터 있으면 거수합니다 실시" %}

이전 주인이 일단 남아도는 하드를 되는대로 꽂아서 그런지

아주 형형색색 별로 하드가 있습니다.

블루는 일반 가정용, 보라는 CCTV 용, 초록은 절전용이라는데 (답 없음ㅋㅋ)

뭐, 이건 나중에 주문한 디스크 도킹 스테이션이 배달되면 베드색터 검사 후

주변 지인에게 나눠주거나 중고로 팔면 되겠죠

{% include aligner.html images="/posts/2022-02-24/20220223_124002.jpg,/posts/2022-02-24/20220223_124447.jpg,/posts/2022-02-24/20220223_124511.jpg" column=3 row=1 caption="" %}

기존에 부팅용으로 사용된 2.5 인치 하드를 제거하고 새로 구매한 SSD를 장착합니다.

다른 r510(를 살리는) 관련된 유튜브 영상을 보니깐 레이드는 때려치우고

NAS로 사용하거나 클라우드 컴퓨터처럼 사용하던데, 저는 뭐 일단 서버를 서버처럼 사용하려고 하니

OS 부팅용 SSD를 따로 설치했습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_122218.jpg" column=2 row=1 caption="" %}

그리고 새로 구매한 감성 가득한 애플 하드디스크를 가이드에 장착하고 넣어 줬습니다.

신기한게 모델명이 같아도 OEM으로 생산된 하드디스크라 그런지 직접 검색하면 나오지 않더라고요.

### 하드 얹고 CPU!

하드도 장착하고 이어서 알리 익스프레스에서 구매한 CPU도 장착했습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_122456.jpg,/posts/2022-02-24/20220223_122747.jpg,/posts/2022-02-24/20220223_123808.jpg" column=3 row=1 caption="" %}

기존에 있었던 CPU는 말라 붙은 써멀을 닦아내고 간단히 포장해놨습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_123119.jpg,/posts/2022-02-24/20220223_123327.jpg,/posts/2022-02-24/20220223_123640.jpg" column=3 row=1 caption="" %}

급하게 새로산 정체 모를 싼마이한 서멀 때문에 조금 혐오스러웠지만,

우선은 테스트가 시급하니 그냥 덮었습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_132540.jpg" column=2 row=1 caption="" %}

언젠간 다시 도포를 해야할 것 같은 죄책감이 들어서 나중에 새로 구입하면(언젠가는) 해야겠습니다...

그래도 정상적으로 인식이 가능하니 이어서 계속 진행했습니다.

### 부팅

{% include aligner.html images="/posts/2022-02-24/20220223_124607.jpg,/posts/2022-02-24/20220223_124717.jpg" column=2 row=1 caption="" %}

왜 이렇게 설계했는지 모르겠지만, Internal Flash Drive으로 인식할 수가 있어서 힘들게 꽂고

{% include aligner.html images="/posts/2022-02-24/20220223_133808.jpg,/posts/2022-02-24/20220223_134236.jpg,/posts/2022-02-24/20220223_134419.jpg" column=3 row=1 caption="" %}

Cent OS 7 부팅, 그리고 설치까지 성공했습니다.

거의 2 주간 <del>돈만 쓰면 해결될 문제를</del> 삽질을 하다 한 시간 만에 해결했네요 ㅋㅋ

CPU, 메모리, 그리고 마운트 된 디스크까지 모두 정상적으로 인식된 것을 볼 수 있었습니다.

일단 이제 하드웨어 문제는 없는 걸로 확인했으니 "깔끔"을 위해서 r510의 위치를 좀 바꿨습니다.

{% include aligner.html images="/posts/2022-02-20/IMG_2116.jpg,/posts/2022-02-24/20220223_162811.jpg" column=2 row=1 caption="이전 --> 이후" %}

[이전 글]({% post_url 2022-02-15-동아리방-청소-4편 %})에서 계획한 대로 책상 밑으로 옮겼습니다.

뚜껑이야 금방 닫고, 나중에 도착할 램만 두 개 꽂으면 완성이니 소프트웨어만 만지는 일만 남았습니다.

{% include aligner.html images="/posts/2022-02-24/20220223_185236.jpg,/posts/2022-02-24/20220223_184127.jpg" column=2 row=1 caption="" %}

cent os는 서버로 제격이지만, 상대적으로 소프트한 우분투가 더 나을 것 같아서 다시 설치했습니다.

아무래도 경험상 자료를 찾아본 바로는 cent os보다 ubuntu가 리소스가 더 많아 편할 것 같더라고요.

Ubuntu Server도 하나의 옵션이었지만, GUI가 없다는 점에서

괜히 동아리 원들의 서버 사용의 접근성을 낮추는게 아닐까... 라는 마음에 Desktop 버전으로 설치했습니다.

아무래도 r510이 블레이드 PC고, 보통 서버와 인터렉션 작업을 CLI로 진행하다보니

GUI가 안나오지 않을까... 라는 걱정도 했지만

CPU로 그래픽을 랜더링하는 `LLVMpipe llvm`이라는 것을 사용하더군요.

뭐 아무튼 그렇게 우분투 데스크탑으로 재설치 한 후

{% include aligner.html images="/posts/2022-02-24/20220223_194624.jpg" column=2 row=1 caption="" %}

이렇게 정리했습니다.

## 마무리일까?

{% include aligner.html images="/posts/2022-02-24/20220223_153458.jpg" column=2 row=1 caption="" %}

욕심은 끝도 없어서 저 비어 있는 PCIE 슬롯에 꽂을 GPU를 구매했습니다.

화면 랜더링이 너무 느려서 뭐 하나라도 꽂아서 일반 PC처럼 사용하고 싶었습니다 ㅋㅋ

{% include aligner.html images="/posts/2022-02-24/20220223_164506.jpg" column=2 row=1 caption="" %}

밑에 있는 PCIE 슬롯에 이미 누가 16 배수 PCIE를 꽂을 수 있겠끔 갈아 놔서 꽂을 수 있더라고요.

그리고 항상 저기 I/O가 나올 수 있는 부분이 열려있길래 뭘 꽂았나 궁금했는데

이전 사용자(혹은 그 이전)가 16배수 PCIE를 꽂은 적이 있었던 것 같습니다.

{% include aligner.html images="/posts/2022-02-24/Screenshot_20220224-145742.jpg" column=2 row=1 caption="" %}

결국 중고로 구입했습니다 ㅋㅋㅋㅋ

## 총 비용

이 r510을 사용하는데 들인 총 비용은

---

중고 구매한 r510 : **175,000 원**

쿠팡에서 구매한 os용 128gb SSD 2개 : **40,890 원** (20,390 + 20,500)

아이맥에서 적출한 중고 HDD(2016년 1월 산) 2개 : **36,000 원** (18,000 \* 2)

주문이 너무 느려서 현장에서 산 싼마이한 서멀 구리스 1개 : **5,000 원**

지난 글에서 업로드한 제온 x5675 2개 : **32,277 원** (16,138 \* 2)

_나중에_ 도착하면 설치할 ECC 램 4GB 2개 : **27,856 원** (13,928 \* 2)

_나중에_ 도착하면 설치할 그래픽(라데온 hd6670) : **18,000 원** (15,000 + 배송비 3,000)

---

총 합 : **335,023 원**

<br>

**335,023 원**

...

{% include aligner.html images="/posts/2022-02-24/tlqkf.png" column=2 row=1 caption="" %}

<br>

{% include aligner.html images="/posts/2022-02-24/pepe.jfif" column=2 row=1 caption="" %}
